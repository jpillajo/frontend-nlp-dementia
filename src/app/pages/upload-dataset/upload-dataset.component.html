<p-toast></p-toast>
<div class="container">
  <div class="row">
    <div class="col-lg-6 offset-lg-3">
      <div class="card-body text-center">
        <h4 class="mt-3">
          <span class="titulo">Seleccione un archivo para consultar:</span>
        </h4>
        <div class="mb-3">
          <input
            (change)="this.onFilechange($event)"
            class="form-control"
            type="file"
            id="formFile"
            accept=".csv"
            #inputFile
          />
          <div class="mb-3">
            <button
              class="mt-3 m-1 btn btn-primary"
              (click)="this.subirArchivo()"
            >
              Aceptar
            </button>
            <button
              class="mt-3 m-1 btn btn-light"
              (click)="this.limpiarFormulario()"
            >
              Limpiar
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="mostrarComboBoxColumnas" class="row">
    <div class="col-lg-6 offset-lg-3">
      <div class="card-body text-center">
        <div class="mb-3">
          <p-dropdown
            [formControl]="this.formGroup.controls['columna']"
            [options]="listaComboBox"
            optionLabel="valor"
            optionValue="id"
            placeholder="Seleccione un autor"
            (onChange)="this.consultarSimilitudDataset()"
          >
          </p-dropdown>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="mostrarTablas" class="row">
    <div class="col-6">
      <p-table
        [columns]="cols"
        [value]="listaSimilitudJaccard"
        [tableStyle]="{ 'min-width': '20rem' }"
      >
        <ng-template pTemplate="caption">
          <div style="text-align: center; width: 100%">Similitud Jaccard</div>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th>Enfoque</th>
            <th>Porcentaje</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-row>
          <tr>
            <td>{{ row.enfoque }}</td>
            <td>
              <p-progressBar
                [value]="row.porcentaje.toFixed(2)"
                [showValue]="false"
              ></p-progressBar>
              {{ row.porcentaje.toFixed(2) }} %
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
    <div class="col-6">
      <p-table
        [columns]="cols"
        [value]="listaSimilitudCoseno"
        [tableStyle]="{ 'min-width': '20rem' }"
      >
        <ng-template pTemplate="caption">
          <div style="text-align: center; width: 100%">Similitud Coseno</div>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th>Enfoque</th>
            <th>Porcentaje</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-row>
          <tr>
            <td>{{ row.enfoque }}</td>
            <td>
              <p-progressBar
                [value]="row.porcentaje.toFixed(2)"
                [showValue]="false"
              ></p-progressBar>
              {{ row.porcentaje.toFixed(2) }} %
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>
<div style="height: 4rem"></div>
<!-- Footer-->
<footer class="py-3 bg-dark mt-auto fixed-bottom">
  <div class="container px-5">
    <p class="m-0 text-center text-white">Copyright &copy; Your Website 2023</p>
  </div>
</footer>
